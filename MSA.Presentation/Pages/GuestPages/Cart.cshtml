@page
@model MSA.Presentation.Pages.GuestPages.CartModel
@{
}
<!DOCTYPE html>
<html lang="en">

<head>

</head>

<body>

    <!-- ***** Preloader Start ***** -->
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <!-- ***** Preloader End ***** -->
    <!-- ***** Main Banner Area Start ***** -->
    <div class="main-banner" id="top">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="inner-content">
                        <h2>Giỏ hàng</h2>
                        @if (Model.OrderDetail == null || Model.OrderDetail.Count == 0)
                        {
                            <span>Giỏ hàng trống</span>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section class="section" id="products">
        <div class="container">
            <div class="row">
                @if (Model.OrderDetail == null || Model.OrderDetail.Count == 0)
                {

                }
                else
                {


                    @foreach (var orderDetail in Model.OrderDetail)
                    {
                        var index = Model.OrderDetail.IndexOf(orderDetail);

                        <div class="col-lg-4">
                            <div class="item">
                                <div class="thumb">

                                    <img src="/@Model.ProductImg[index]" alt="">
                                </div>
                                <div class="down-content">

                                    <h4>@Model.ProductName[index]</h4>
                                    <span>Giá: $ @Html.DisplayFor(modelItem => orderDetail.Price)</span>
                                    <span>Số lượng:  @Html.DisplayFor(modelItem => orderDetail.Quantity)</span>
                                </div>
                            </div>
                        </div>
                    }
                    <form method="post">
                        <div class="down-content">
                            <span>Tổng số lượng:  @Model.Order.TotalQuantity</span>
                            <span>Tổng giá: $ @Model.Order.TotalPrice</span>

                            <input asp-for="OrderViewModel.OrderId" type="hidden" class="form-control" value="@Model.Order.Id" />
                        </div>
                        <button type="submit" data-mdb-button-init data-mdb-ripple-init 
                                class="btn btn-primary btn-sm float-start" asp-page-handler="ProcessPayment">
                            Thanh toán
                        </button>
                    </form>
                }
            </div>
        </div>

    </section>
    <!-- ***** Products Area Ends ***** -->

</body>

</html>
